#include "main.h"
#include "stopwatch.h"
#include "CLCD.h"

extern Lap lap;
extern Stopwatch stopwatch;
extern CLCD clcd;

void show_time() {
  	// 0.5초마다 스탑워치 시간의 점을 토글
	if(stopwatch.time.milisecond < 500) stopwatch.point = ON;
	else stopwatch.point = OFF;

	// 7-Seg에 시간을 출력
	_7SEG_SetNumber(DGT1, stopwatch.time.second % 10, stopwatch.point);
	_7SEG_SetNumber(DGT2, stopwatch.time.milisecond / 100, OFF);

	// CLCD에 시간을 출력
	sprintf(clcd.str1, "STW %02d:%02d:%02d%c%03d",
			stopwatch.time.hour,
			stopwatch.time.minute,
			stopwatch.time.second,
			stopwatch.point ? '.' : ' ',
			stopwatch.time.milisecond);
	CLCD_Puts(0, 0, clcd.str1);
}


